<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valoraci√≥n Integral - Pimpos Gym</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/png" href="images/favicon-form.png">
    <style>
        .form-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08), 0 2px 8px rgba(0,0,0,0.04);
            position: relative;
            overflow: hidden;
            animation: formContainerFadeIn 0.8s ease-out;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        @keyframes formContainerFadeIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), #ff6b6b, var(--primary-color));
            background-size: 200% 100%;
            animation: gradientMove 3s ease infinite;
        }

        @keyframes gradientMove {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .form-section {
            margin-bottom: 0;
            padding: 2.5rem;
            border: none;
            border-radius: 16px;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
            transition: left 0.6s ease;
        }

        .form-section.active::before {
            left: 100%;
        }

        .form-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
        }

        .form-section h3 {
            color: var(--primary-color);
            margin-bottom: 2rem;
            font-size: 1.75rem;
            border-bottom: none;
            padding-bottom: 0;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
        }

        .form-section h3 i {
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--primary-color), #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.95rem;
            letter-spacing: 0.3px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e8ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
            font-family: 'Roboto', sans-serif;
            position: relative;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(220, 53, 69, 0.1), 0 2px 12px rgba(220, 53, 69, 0.15);
            transform: translateY(-1px) scale(1.01);
        }

        .form-group input:hover,
        .form-group select:hover,
        .form-group textarea:hover {
            border-color: #d1d8dd;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            transform: translateY(-1px);
        }

        .form-group input[type="number"] {
            max-width: 200px;
        }

        .form-group.required label::after {
            content: " *";
            color: #dc3545;
        }

        .form-submit {
            text-align: center;
            margin-top: 2rem;
        }

        .btn-submit {
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            color: white;
            padding: 16px 48px;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
            position: relative;
            overflow: hidden;
            transform: perspective(1000px);
        }

        .btn-submit::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-submit:hover::before {
            left: 100%;
        }

        .btn-submit:hover {
            transform: translateY(-3px) rotateX(5deg);
            box-shadow: 0 8px 30px rgba(220, 53, 69, 0.4), 0 0 20px rgba(220, 53, 69, 0.2);
        }

        .btn-submit:active {
            transform: translateY(-1px) rotateX(2deg);
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }

        .btn-submit:disabled {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            opacity: 0.6;
        }

        .btn-submit i {
            font-size: 1.1rem;
        }

        .alert {
            padding: 1.25rem 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            display: none;
            animation: slideDown 0.4s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            align-items: center;
            gap: 12px;
            font-weight: 500;
        }

        .alert.show {
            display: flex;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert i {
            font-size: 1.5rem;
        }

        .alert-success {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            border: 2px solid #28a745;
        }

        .alert-success i {
            color: #28a745;
        }

        .alert-error {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .alert-error i {
            color: #dc3545;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e8ecef;
            border-radius: 20px;
            margin-bottom: 2rem;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color) 0%, #ff6b6b 50%, var(--primary-color) 100%);
            background-size: 200% 100%;
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
            position: relative;
            overflow: hidden;
            animation: progressShimmer 2s ease-in-out infinite;
        }

        @keyframes progressShimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Step Wizard Styles */
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3rem;
            position: relative;
            padding: 0 30px;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 24px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #e8ecef 0%, #e8ecef 100%);
            z-index: 0;
            border-radius: 3px;
        }

        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            flex: 1;
            z-index: 1;
            cursor: default;
        }

        .step-number {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: white;
            color: #95a5a6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            margin-bottom: 10px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid #e8ecef;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            font-size: 1rem;
        }

        .step-item.active .step-number {
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            color: white;
            transform: scale(1.15);
            border-color: transparent;
            box-shadow: 0 4px 20px rgba(220, 53, 69, 0.4), 0 0 0 4px rgba(220, 53, 69, 0.1);
            animation: pulse 2s infinite, stepGlow 3s ease-in-out infinite;
        }

        @keyframes stepGlow {
            0%, 100% {
                box-shadow: 0 4px 20px rgba(220, 53, 69, 0.4), 0 0 0 4px rgba(220, 53, 69, 0.1);
            }
            50% {
                box-shadow: 0 6px 30px rgba(220, 53, 69, 0.6), 0 0 0 8px rgba(220, 53, 69, 0.15);
            }
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 4px 20px rgba(220, 53, 69, 0.4), 0 0 0 4px rgba(220, 53, 69, 0.1);
            }
            50% {
                box-shadow: 0 4px 25px rgba(220, 53, 69, 0.5), 0 0 0 6px rgba(220, 53, 69, 0.15);
            }
        }

        .step-item.completed .step-number {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-color: transparent;
            box-shadow: 0 2px 12px rgba(16, 185, 129, 0.3);
        }

        .step-item.completed .step-number::after {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
        }

        .step-label {
            font-size: 0.8rem;
            color: #7f8c8d;
            text-align: center;
            font-weight: 600;
            max-width: 100px;
            transition: all 0.3s ease;
        }

        .step-item.active .step-label {
            color: var(--primary-color);
            font-weight: 700;
            transform: scale(1.05);
        }

        .step-item.completed .step-label {
            color: #10b981;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
            animation: fadeInSlide 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeInSlide {
            from {
                opacity: 0;
                transform: translateX(30px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid #f0f0f0;
            gap: 1rem;
        }

        .btn-nav {
            padding: 14px 32px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .btn-nav::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255,255,255,0.2);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .btn-nav:hover::before {
            transform: translateX(0);
        }

        .btn-prev {
            background: linear-gradient(135deg, #6c757d 0%, #5a6268 100%);
            color: white;
        }

        .btn-prev:hover:not(:disabled) {
            transform: translateX(-3px) translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 117, 125, 0.3);
        }

        .btn-next {
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            color: white;
        }

        .btn-next:hover:not(:disabled) {
            transform: translateX(3px) translateY(-2px);
            box-shadow: 0 4px 16px rgba(220, 53, 69, 0.4);
        }

        .btn-nav:active:not(:disabled) {
            transform: scale(0.98);
        }

        .btn-nav:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none;
        }

        .step-counter {
            color: #7f8c8d;
            font-weight: 700;
            font-size: 0.95rem;
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            white-space: nowrap;
        }

        .step-counter .current-step {
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .form-header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem 0;
        }

        .form-header h1 {
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: -0.5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .form-header h1 i {
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-header p {
            color: #5a6c7d;
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #c82333;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 1rem 0;
        }

        .spinner {
            border: 4px solid rgba(220, 53, 69, 0.1);
            border-top: 4px solid var(--primary-color);
            border-right: 4px solid #ff6b6b;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 0.8s linear infinite;
            margin: 0 auto;
            box-shadow: 0 0 15px rgba(220, 53, 69, 0.2);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading p {
            margin-top: 0.75rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Slider Styles */
        .slider-container {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 12px;
            border: 2px solid #e8ecef;
        }

        .slider-container input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 10px;
            background: #e8ecef;
            outline: none;
            appearance: none;
            -webkit-appearance: none;
            margin-bottom: 1rem;
            cursor: pointer;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            cursor: grab;
            border: 3px solid white;
            box-shadow: 0 3px 8px rgba(220, 53, 69, 0.3), 0 1px 3px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4), 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider-container input[type="range"]::-webkit-slider-thumb:active {
            cursor: grabbing;
            transform: scale(1.05);
        }

        .slider-container input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            cursor: grab;
            border: 3px solid white;
            box-shadow: 0 3px 8px rgba(220, 53, 69, 0.3), 0 1px 3px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
        }

        .slider-container input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.15);
        }

        .slider-container input[type="range"]::-moz-range-thumb:active {
            cursor: grabbing;
            transform: scale(1.05);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            font-size: 0.85rem;
            color: #7f8c8d;
            font-weight: 600;
        }

        .slider-labels span {
            flex: 1;
            text-align: center;
            padding: 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .slider-labels span:hover {
            background: rgba(220, 53, 69, 0.05);
            color: var(--primary-color);
        }

        .slider-description {
            text-align: center;
            color: #5a6c7d;
            font-style: italic;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        /* Screen Time Instructions */
        .screen-time-instructions {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 2px solid #2196f3;
            border-radius: 12px;
            padding: 1.25rem 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 2px 8px rgba(33, 150, 243, 0.15);
        }

        .screen-time-instructions p {
            margin: 0.5rem 0;
            color: #0d47a1;
            font-weight: 500;
        }

        .screen-time-instructions ul {
            margin: 0.75rem 0;
            padding-left: 1.5rem;
        }

        .screen-time-instructions li {
            margin: 0.5rem 0;
            color: #1565c0;
            font-weight: 500;
        }

        .screen-time-instructions strong {
            color: #0d47a1;
            font-weight: 700;
        }

        .screen-time-instructions small {
            color: #1976d2;
        }

        /* Data Policy Styles */
        .data-policy-content {
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .data-policy-content p {
            margin-bottom: 0.85rem;
            color: #2c3e50;
            line-height: 1.7;
            font-weight: 500;
        }

        .data-policy-content a {
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }

        .data-policy-content a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }

        .data-policy-content a:hover::after {
            width: 100%;
        }

        .data-policy-content a:hover {
            color: #c82333;
        }

        .checkbox-group {
            margin-bottom: 1rem;
        }

        .checkbox-label {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            cursor: pointer;
            font-weight: 500;
            color: #2c3e50;
            line-height: 1.6;
            padding: 12px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .checkbox-label:hover {
            background: rgba(220, 53, 69, 0.03);
        }

        .checkbox-label input[type="checkbox"] {
            display: none;
        }

        .checkmark {
            width: 24px;
            height: 24px;
            border: 3px solid #e8ecef;
            border-radius: 6px;
            background: white;
            flex-shrink: 0;
            margin-top: 2px;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark {
            background: linear-gradient(135deg, var(--primary-color) 0%, #ff6b6b 100%);
            border-color: transparent;
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }

        .checkbox-label input[type="checkbox"]:checked + .checkmark::after {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: white;
            font-size: 14px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: checkPop 0.3s ease;
        }

        @keyframes checkPop {
            0% {
                transform: translate(-50%, -50%) scale(0);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .checkbox-label:hover .checkmark {
            border-color: var(--primary-color);
            transform: scale(1.05);
        }

        .checkbox-label.required::after {
            content: " *";
            color: #dc3545;
        }

        /* Phone Input Styles */
        .phone-input-group {
            display: flex;
            gap: 8px;
            align-items: stretch;
        }

        .country-code {
            flex: 0 0 auto;
            min-width: 110px;
            max-width: 120px;
            padding: 12px 8px;
            border: 2px solid #e1e5e9;
            border-radius: 6px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
            text-align: center;
        }

        .country-code:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }

        .phone-input-group input[type="tel"] {
            flex: 1;
            min-width: 0;
        }

        @media (max-width: 768px) {
            .phone-input-group {
                flex-direction: column;
                gap: 8px;
            }
            
            .country-code {
                min-width: auto;
                max-width: 100%;
            }
        }

        /* Floating Particles */
        .floating-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(220, 53, 69, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .particle:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
            animation-duration: 8s;
        }

        .particle:nth-child(2) {
            top: 60%;
            left: 20%;
            animation-delay: 2s;
            animation-duration: 6s;
        }

        .particle:nth-child(3) {
            top: 40%;
            left: 80%;
            animation-delay: 4s;
            animation-duration: 7s;
        }

        .particle:nth-child(4) {
            top: 80%;
            left: 70%;
            animation-delay: 1s;
            animation-duration: 9s;
        }

        .particle:nth-child(5) {
            top: 30%;
            left: 50%;
            animation-delay: 3s;
            animation-duration: 5s;
        }

        .particle:nth-child(6) {
            top: 70%;
            left: 30%;
            animation-delay: 5s;
            animation-duration: 8s;
        }

        .particle:nth-child(7) {
            top: 10%;
            left: 90%;
            animation-delay: 2.5s;
            animation-duration: 6.5s;
        }

        .particle:nth-child(8) {
            top: 50%;
            left: 5%;
            animation-delay: 4.5s;
            animation-duration: 7.5s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) translateX(0px);
                opacity: 0.3;
            }
            25% {
                transform: translateY(-20px) translateX(10px);
                opacity: 0.6;
            }
            50% {
                transform: translateY(-40px) translateX(-10px);
                opacity: 0.4;
            }
            75% {
                transform: translateY(-20px) translateX(15px);
                opacity: 0.8;
            }
        }

        .form-container {
            position: relative;
            z-index: 2;
        }

        @media (max-width: 768px) {
            .form-container {
                padding: 1.5rem;
                margin: 1rem;
                border-radius: 16px;
            }

            .form-container::before {
                height: 3px;
            }
            
            .form-section {
                padding: 1.5rem;
            }

            .form-header h1 {
                font-size: 1.75rem;
                flex-direction: column;
                gap: 10px;
            }

            .form-header p {
                font-size: 1rem;
            }

            .slider-labels {
                font-size: 0.7rem;
            }

            .step-indicator {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding: 0 15px 15px 15px;
                -webkit-overflow-scrolling: touch;
                margin-bottom: 2rem;
            }

            .step-item {
                min-width: 70px;
            }

            .step-number {
                width: 40px;
                height: 40px;
                font-size: 0.9rem;
            }

            .step-label {
                font-size: 0.7rem;
                max-width: 85px;
            }

            .form-navigation {
                flex-direction: column;
                gap: 12px;
            }

            .btn-nav {
                width: 100%;
                justify-content: center;
                padding: 12px 24px;
            }

            .btn-submit {
                width: 100%;
                padding: 14px 32px;
                font-size: 16px;
            }

            .step-counter {
                order: -1;
                margin-bottom: 12px;
                font-size: 0.9rem;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 12px 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <nav class="nav">
            <div class="nav-logo">
                <a href="index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center;">
                    <img src="images/natvar-logo.png" alt="Pimpos Gym Logo" style="height:35px;width:auto;vertical-align:middle;margin-right:10px;">
                    <span style="display:none;">Pimpos Gym</span>
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html#inicio" class="nav-link">Inicio</a></li>
                <li><a href="index.html#servicios" class="nav-link">Servicios</a></li>
                <li><a href="index.html#clases" class="nav-link">Clases</a></li>
                <li><a href="index.html#precios" class="nav-link">Precios</a></li>
                <li><a href="index.html#contacto" class="nav-link">Contacto</a></li>
            </ul>
            <div class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main style="padding-top: 80px; min-height: 100vh; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); position: relative; overflow: hidden;">
        <!-- Floating particles background -->
        <div class="floating-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
        <div class="container">
            <a href="index.html" class="back-link">
                <i class="fas fa-arrow-left"></i>
                Volver al inicio
            </a>

            <div class="form-container">
                <div class="form-header">
                    <h1><i class="fas fa-clipboard-list"></i> Valoraci√≥n Integral y Estilo de Vida</h1>
                    <p>Completa este formulario para recibir una evaluaci√≥n personalizada de tu estilo de vida y recomendaciones espec√≠ficas</p>
                </div>

                <!-- Step Indicator -->
                <div class="step-indicator" id="stepIndicator">
                    <div class="step-item active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-label">Datos B√°sicos</div>
                    </div>
                    <div class="step-item" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-label">Nutrici√≥n</div>
                    </div>
                    <div class="step-item" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-label">Sue√±o</div>
                    </div>
                    <div class="step-item" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-label">Actividad F√≠sica</div>
                    </div>
                    <div class="step-item" data-step="5">
                        <div class="step-number">5</div>
                        <div class="step-label">Estr√©s</div>
                    </div>
                    <div class="step-item" data-step="6">
                        <div class="step-number">6</div>
                        <div class="step-label">Bienestar</div>
                    </div>
                    <div class="step-item" data-step="7">
                        <div class="step-number">7</div>
                        <div class="step-label">H√°bitos</div>
                    </div>
                    <div class="step-item" data-step="8">
                        <div class="step-number">8</div>
                        <div class="step-label">Pol√≠tica</div>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>

                <div class="alert alert-success show" id="successAlert" style="display: none;">
                    <i class="fas fa-check-circle"></i>
                    ¬°Formulario enviado exitosamente! Te contactaremos pronto con tu evaluaci√≥n personalizada.
                </div>

                <div class="alert alert-error show" id="errorAlert" style="display: none;">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="errorMessage">Ha ocurrido un error. Por favor, intenta nuevamente.</span>
                </div>

                <form id="assessmentForm">
                    <!-- Datos b√°sicos -->
                    <div class="form-section active" data-step="1">
                        <h3><i class="fas fa-user"></i> Datos B√°sicos</h3>
                        
                        <div class="form-group required">
                            <label for="nombre">Nombre completo</label>
                            <input type="text" id="nombre" name="nombre" required>
                        </div>

                        <div class="form-group required">
                            <label for="cedula">C√©dula de ciudadan√≠a</label>
                            <input type="text" id="cedula" name="cedula" placeholder="Ej: 1234567890" pattern="[0-9]{6,12}" title="Ingresa solo n√∫meros, entre 6 y 12 d√≠gitos" required>
                        </div>

                        <div class="form-group required">
                            <label for="edad">Edad</label>
                            <input type="number" id="edad" name="edad" min="1" max="120" required>
                        </div>

                        <div class="form-group required">
                            <label for="sexo">Sexo</label>
                            <select id="sexo" name="sexo" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Masculino">Masculino</option>
                                <option value="Femenino">Femenino</option>
                                <option value="Otro">Otro</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="email">Correo electr√≥nico</label>
                            <input type="email" id="email" name="email" required>
                        </div>

                        <div class="form-group required">
                            <label for="telefono">Tel√©fono</label>
                            <div class="phone-input-group">
                                <select id="codigo_pais" name="codigo_pais" class="country-code" required>
                                    <option value="+57">üá®üá¥ +57</option>
                                    <option value="+1">üá∫üá∏ +1</option>
                                    <option value="+34">üá™üá∏ +34</option>
                                    <option value="+52">üá≤üáΩ +52</option>
                                    <option value="+54">üá¶üá∑ +54</option>
                                    <option value="+56">üá®üá± +56</option>
                                    <option value="+51">üáµüá™ +51</option>
                                    <option value="+593">üá™üá® +593</option>
                                    <option value="+58">üáªüá™ +58</option>
                                    <option value="+595">üáµüáæ +595</option>
                                    <option value="+598">üá∫üáæ +598</option>
                                    <option value="+591">üáßüá¥ +591</option>
                                    <option value="otro">Otro</option>
                                </select>
                                <input type="text" id="codigo_pais_otro" name="codigo_pais_otro" class="country-code" placeholder="+57" style="display:none;max-width:70px;" pattern="\+[0-9]{1,4}" title="Incluye el s√≠mbolo + y el c√≥digo de pa√≠s" autocomplete="off">
                                <input type="tel" id="telefono" name="telefono" placeholder="N√∫mero de tel√©fono" required>
                            </div>
                        </div>

                        <div class="form-group required">
                            <label for="objetivo_principal">Objetivo principal</label>
                            <select id="objetivo_principal" name="objetivo_principal" required>
                                <option value="">Selecciona tu objetivo principal</option>
                                <option value="Ganar masa muscular">Ganar masa muscular</option>
                                <option value="Perder grasa">Perder grasa</option>
                                <option value="Mejorar salud">Mejorar salud</option>
                                <option value="Mantener estado f√≠sico">Mantener estado f√≠sico</option>
                                <option value="M√°s energ√≠a">M√°s energ√≠a</option>
                                <option value="Menos estr√©s">Menos estr√©s</option>
                                <option value="Salud mental">Salud mental</option>
                                <option value="Mejorar autoestima">Mejorar autoestima</option>
                            </select>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev" disabled>
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">1</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Nutrici√≥n -->
                    <div class="form-section" data-step="2">
                        <h3><i class="fas fa-apple-alt"></i> Nutrici√≥n</h3>
                        
                        <div class="form-group required">
                            <label for="comidas_dia">¬øCu√°ntas comidas principales haces al d√≠a?</label>
                            <select id="comidas_dia" name="comidas_dia" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4 o m√°s">4 o m√°s</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="proteina_cada_comida">¬øIncluyes fuentes de prote√≠na en cada comida principal?</label>
                            <select id="proteina_cada_comida" name="proteina_cada_comida" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                                <option value="A veces">A veces</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="grasas_saludables">¬øIncluyes grasas saludables en tu alimentaci√≥n semanal?</label>
                            <select id="grasas_saludables" name="grasas_saludables" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                                <option value="A veces">A veces</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="frutas_verduras">¬øComes frutas y verduras todos los d√≠as?</label>
                            <select id="frutas_verduras" name="frutas_verduras" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                                <option value="A veces">A veces</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="agua_diaria">¬øCu√°ntos litros de agua tomas al d√≠a en promedio?</label>
                            <select id="agua_diaria" name="agua_diaria" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Menos de 1 litro">Menos de 1 litro</option>
                                <option value="De 1 a 2 litros">De 1 a 2 litros</option>
                                <option value="M√°s de 2 litros">M√°s de 2 litros</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="ultraprocesados_dia">¬øCu√°ntos alimentos ultraprocesados consumes diariamente?<br><small>(Ejemplos: gaseosas, snacks, galletas, dulces, embutidos, comidas r√°pidas)</small></label>
                            <select id="ultraprocesados_dia" name="ultraprocesados_dia" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Ninguno">Ninguno</option>
                                <option value="Menos de 3">Menos de 3</option>
                                <option value="M√°s de 3">M√°s de 3</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="azucar_diaria">¬øConsumes az√∫car todos los d√≠as?</label>
                            <select id="azucar_diaria" name="azucar_diaria" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="alcohol">¬øCon qu√© frecuencia tomas bebidas alcoh√≥licas?</label>
                            <select id="alcohol" name="alcohol" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Nunca">Nunca</option>
                                <option value="1 o m√°s veces por semana">1 o m√°s veces por semana</option>
                                <option value="En ocasiones especiales">En ocasiones especiales</option>
                            </select>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">2</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Sue√±o y descanso -->
                    <div class="form-section" data-step="3">
                        <h3><i class="fas fa-bed"></i> Sue√±o y Descanso</h3>
                        
                        <div class="form-group required">
                            <label for="horas_sueno">¬øCu√°ntas horas duermes en promedio por noche?</label>
                            <select id="horas_sueno" name="horas_sueno" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Menos de 5">Menos de 5</option>
                                <option value="5 a 6">5 a 6</option>
                                <option value="6 a 7">6 a 7</option>
                                <option value="M√°s de 7">M√°s de 7</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="descansado_amanecer">¬øTe sientes descansado al despertar?</label>
                            <select id="descansado_amanecer" name="descansado_amanecer" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Siempre">Siempre</option>
                                <option value="A veces">A veces</option>
                                <option value="Nunca">Nunca</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="dificultad_dormir">¬øTienes dificultades para dormir o permanecer dormido?</label>
                            <select id="dificultad_dormir" name="dificultad_dormir" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="S√≠">S√≠</option>
                                <option value="No">No</option>
                                <option value="A veces">A veces</option>
                            </select>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">3</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Actividad f√≠sica -->
                    <div class="form-section" data-step="4">
                        <h3><i class="fas fa-dumbbell"></i> Actividad F√≠sica</h3>
                        
                        <div class="form-group required">
                            <label for="dias_gimnasio">¬øCu√°ntos d√≠as a la semana vas al gimnasio o realizas ejercicio estructurado?</label>
                            <select id="dias_gimnasio" name="dias_gimnasio" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5 o m√°s">5 o m√°s</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="caminar_diario">¬øCu√°nto tiempo caminas al d√≠a en promedio?</label>
                            <select id="caminar_diario" name="caminar_diario" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Menos de 15 minutos">Menos de 15 minutos</option>
                                <option value="15 a 30 minutos">15 a 30 minutos</option>
                                <option value="30 a 60 minutos">30 a 60 minutos</option>
                                <option value="M√°s de 60 minutos">M√°s de 60 minutos</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="actividad_vigorosa_fuera">¬øCon qu√© frecuencia realizas actividad f√≠sica vigorosa fuera del gimnasio?<br><small>(correr, deportes intensos, HIIT, nataci√≥n, f√∫tbol, etc.)</small></label>
                            <select id="actividad_vigorosa_fuera" name="actividad_vigorosa_fuera" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Nunca">Nunca</option>
                                <option value="1 vez por semana">1 vez por semana</option>
                                <option value="2 a 3 veces por semana">2 a 3 veces por semana</option>
                                <option value="M√°s de 3 veces por semana">M√°s de 3 veces por semana</option>
                            </select>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">4</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Gesti√≥n del estr√©s -->
                    <div class="form-section" data-step="5">
                        <h3><i class="fas fa-brain"></i> Gesti√≥n del Estr√©s</h3>
                        
                        <div class="form-group required">
                            <label for="estres_1_10">¬øEn una escala de 1 a 10, qu√© tan estresado(a) te consideras actualmente?</label>
                            <div class="slider-container">
                                <input type="range" id="estres_1_10" name="estres_1_10" min="1" max="10" value="5" required>
                                <div class="slider-labels">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>5</span>
                                    <span>6</span>
                                    <span>7</span>
                                    <span>8</span>
                                    <span>9</span>
                                    <span>10</span>
                                </div>
                                <div class="slider-description">
                                    <small>1 = nada de estr√©s | 10 = estr√©s m√°ximo</small>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">5</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Bienestar, h√°bitos, emociones -->
                    <div class="form-section" data-step="6">
                        <h3><i class="fas fa-heart"></i> Bienestar, H√°bitos y Emociones</h3>
                        
                        <div class="form-group required">
                            <label for="motivacion_1_10">¬øQu√© tan motivado(a) te sientes actualmente para alcanzar tus objetivos de salud y bienestar?</label>
                            <div class="slider-container">
                                <input type="range" id="motivacion_1_10" name="motivacion_1_10" min="1" max="10" value="5" required>
                                <div class="slider-labels">
                                    <span>1</span>
                                    <span>2</span>
                                    <span>3</span>
                                    <span>4</span>
                                    <span>5</span>
                                    <span>6</span>
                                    <span>7</span>
                                    <span>8</span>
                                    <span>9</span>
                                    <span>10</span>
                                </div>
                                <div class="slider-description">
                                    <small>1 = nada motivado | 10 = totalmente motivado</small>
                                </div>
                            </div>
                        </div>

                        <div class="form-group required">
                            <label for="cumple_rutina">¬øCon qu√© frecuencia cumples tus rutinas diarias (alimentaci√≥n, ejercicio, descanso, etc.)?</label>
                            <select id="cumple_rutina" name="cumple_rutina" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Siempre">Siempre</option>
                                <option value="Casi siempre">Casi siempre</option>
                                <option value="A veces">A veces</option>
                                <option value="Casi nunca">Casi nunca</option>
                                <option value="Nunca">Nunca</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="bienestar_emocional">¬øEn general, c√≥mo describir√≠as tu bienestar emocional actual?</label>
                            <select id="bienestar_emocional" name="bienestar_emocional" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Muy bueno">Muy bueno</option>
                                <option value="Bueno">Bueno</option>
                                <option value="Regular">Regular</option>
                                <option value="Malo">Malo</option>
                                <option value="Muy malo">Muy malo</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="pantalla_ocio">¬øCu√°nto tiempo al d√≠a pasas frente a pantallas para actividades de ocio?</label>
                            <div class="screen-time-instructions">
                                <p><strong>Tip: Para saber tu tiempo en pantalla con tu celular, revisa:</strong></p>
                                <ul>
                                    <li><strong>Android:</strong> Ajustes ‚Üí Bienestar digital</li>
                                    <li><strong>iPhone:</strong> Configuraci√≥n ‚Üí Tiempo en pantalla</li>
                                </ul>
                                <p><small>(Incluye celular, TV, computador, tablet para redes sociales, videos, videojuegos, etc.)</small></p>
                            </div>
                            <select id="pantalla_ocio" name="pantalla_ocio" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Menos de 1 hora">Menos de 1 hora</option>
                                <option value="1 a 3 horas">1 a 3 horas</option>
                                <option value="3 a 6 horas">3 a 6 horas</option>
                                <option value="M√°s de 6 horas">M√°s de 6 horas</option>
                                <option value="No estoy seguro(a)">No estoy seguro(a)</option>
                            </select>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">6</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- H√°bitos de consumo -->
                    <div class="form-section" data-step="7">
                        <h3><i class="fas fa-smoking-ban"></i> H√°bitos de Consumo</h3>
                        
                        <div class="form-group required">
                            <label for="fuma_tabaco_o_vaper">¬øFumas cigarrillo, consumes tabaco o usas vapeadores (con o sin nicotina)?</label>
                            <select id="fuma_tabaco_o_vaper" name="fuma_tabaco_o_vaper" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Nunca">Nunca</option>
                                <option value="Ocasionalmente">Ocasionalmente</option>
                                <option value="A diario">A diario</option>
                            </select>
                        </div>

                        <div class="form-group required">
                            <label for="otras_sustancias">¬øConsumes alguna otra sustancia psicoactiva?</label>
                            <select id="otras_sustancias" name="otras_sustancias" required>
                                <option value="">Selecciona una opci√≥n</option>
                                <option value="Nunca">Nunca</option>
                                <option value="Ocasionalmente">Ocasionalmente</option>
                                <option value="A diario">A diario</option>
                                <option value="Prefiero no responder">Prefiero no responder</option>
                            </select>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">7</span> de <span class="total-steps">8</span></span>
                            <button type="button" class="btn-nav btn-next">
                                Siguiente <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Pol√≠tica de Datos Personales -->
                    <div class="form-section" data-step="8" style="background: #f8f9fa; border: 2px solid #e1e5e9;">
                        <h3><i class="fas fa-shield-alt"></i> Pol√≠tica de Tratamiento de Datos Personales</h3>
                        <div class="data-policy-content">
                            <p>Los datos suministrados ser√°n tratados conforme a nuestra <a href="politica-datos.html" target="_blank" style="color: var(--primary-color); font-weight: 600;">Pol√≠tica de Tratamiento de Datos Personales</a>.</p>
                            <p>Ser√°n utilizados exclusivamente para valoraci√≥n, seguimiento y acompa√±amiento de tu proceso de salud y bienestar.</p>
                            <p>Puedes ejercer tus derechos de acceso, actualizaci√≥n o supresi√≥n contact√°ndonos en <a href="mailto:pimposgym@gmail.com" style="color: var(--primary-color); font-weight: 600;">pimposgym@gmail.com</a>.</p>
                        </div>
                        
                        <div class="checkbox-group required" style="margin-top: 1.5rem;">
                            <label class="checkbox-label required">
                                <input type="checkbox" id="acepto_politica" name="acepto_politica" required>
                                <span class="checkmark"></span>
                                Acepto la pol√≠tica de tratamiento de datos personales y autorizo el uso de mi informaci√≥n para los fines descritos.
                            </label>
                        </div>

                        <!-- Navigation -->
                        <div class="form-navigation">
                            <button type="button" class="btn-nav btn-prev">
                                <i class="fas fa-arrow-left"></i> Anterior
                            </button>
                            <span class="step-counter">Paso <span class="current-step">8</span> de <span class="total-steps">8</span></span>
                            <div style="position: relative;">
                                <div class="loading" id="loading" style="position: absolute; top: -60px; left: 50%; transform: translateX(-50%); width: 200px;">
                                    <div class="spinner"></div>
                                    <p style="font-size: 14px; margin-top: 8px;">Enviando...</p>
                                </div>
                                <button type="submit" class="btn-submit" id="submitBtn" disabled>
                                    <i class="fas fa-paper-plane"></i>
                                    Enviar Valoraci√≥n
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="images/natvar-logo.png" alt="Pimpos Gym Logo" style="height:28px;width:auto;vertical-align:middle;margin-right:10px;">
                    <span style="display:none;">Pimpos Gym</span>
                </div>
                <div class="footer-section">
                    <h4>Horarios</h4>
                    <div class="footer-schedule">
                        <div class="schedule-item">
                            <span class="day">Lun-Vie:</span>
                            <span class="time">5:00 AM - 9:20 PM</span>
                        </div>
                        <div class="schedule-item">
                            <span class="day">S√°bado:</span>
                            <span class="time">8:00 AM - 12:30 PM</span>
                        </div>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <div class="footer-contact">
                        <p><i class="fas fa-map-marker-alt"></i> San Juan de Pasto</p>
                        <p><i class="fas fa-phone"></i> +57 316 614 6101</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Pimpos Gym. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // Navegaci√≥n m√≥vil
        const navToggle = document.getElementById('navToggle');
        const navMenu = document.querySelector('.nav-menu');

        if (navToggle) {
            navToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                navToggle.classList.toggle('active');
            });
        }

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Form handling
        const form = document.getElementById('assessmentForm');
        const loading = document.getElementById('loading');
        const successAlert = document.getElementById('successAlert');
        const errorAlert = document.getElementById('errorAlert');
        const errorMessage = document.getElementById('errorMessage');
        const progressFill = document.getElementById('progressFill');
        const submitBtn = document.getElementById('submitBtn');

        // Webhook URL
        const WEBHOOK_URL = 'https://olympo-n8n.bsnk1a.easypanel.host/webhook/estilo-de-vida';

        // Step Wizard Logic
        let currentStep = 1;
        const totalSteps = 8;
        const formSections = document.querySelectorAll('.form-section');
        const stepItems = document.querySelectorAll('.step-item');

        // Update step display
        function updateStepDisplay() {
            // Update sections visibility
            formSections.forEach((section, index) => {
                section.classList.remove('active');
                if (parseInt(section.dataset.step) === currentStep) {
                    section.classList.add('active');
                }
            });

            // Update step indicators
            stepItems.forEach((item, index) => {
                const stepNumber = parseInt(item.dataset.step);
                item.classList.remove('active', 'completed');
                
                if (stepNumber === currentStep) {
                    item.classList.add('active');
                } else if (stepNumber < currentStep) {
                    item.classList.add('completed');
                }
            });

            // Scroll to top smoothly
            const formContainer = document.querySelector('.form-container');
            if (formContainer) {
                formContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Update step counter in all navigation sections
            document.querySelectorAll('.current-step').forEach(el => {
                el.textContent = currentStep;
            });

            updateProgress();
        }

        // Validate current step
        function validateCurrentStep() {
            const currentSection = document.querySelector(`.form-section[data-step="${currentStep}"]`);
            if (!currentSection) return true;

            const requiredFields = currentSection.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (field.type === 'checkbox') {
                    if (!field.checked) {
                        isValid = false;
                        field.parentElement.style.border = '2px solid #dc3545';
                        setTimeout(() => {
                            field.parentElement.style.border = '';
                        }, 2000);
                    }
                } else {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = '#dc3545';
                        setTimeout(() => {
                            field.style.borderColor = '';
                        }, 2000);
                    }
                }
            });

            if (!isValid) {
                // Show error message
                const tempAlert = document.createElement('div');
                tempAlert.className = 'alert alert-error';
                tempAlert.style.display = 'block';
                tempAlert.innerHTML = '<i class="fas fa-exclamation-circle"></i> Por favor, completa todos los campos requeridos antes de continuar.';
                currentSection.insertBefore(tempAlert, currentSection.firstChild);
                
                setTimeout(() => {
                    tempAlert.remove();
                }, 3000);

                currentSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            return isValid;
        }

        // Handle next button clicks
        document.querySelectorAll('.btn-next').forEach(btn => {
            btn.addEventListener('click', () => {
                if (validateCurrentStep() && currentStep < totalSteps) {
                    currentStep++;
                    updateStepDisplay();
                }
            });
        });

        // Handle prev button clicks
        document.querySelectorAll('.btn-prev').forEach(btn => {
            btn.addEventListener('click', () => {
                if (currentStep > 1) {
                    currentStep--;
                    updateStepDisplay();
                }
            });
        });

        // Update progress bar
        function updateProgress() {
            const requiredFields = form.querySelectorAll('[required]');
            let filledCount = 0;
            
            requiredFields.forEach(field => {
                if (field.type === 'checkbox') {
                    if (field.checked) filledCount++;
                } else {
                    if (field.value.trim() !== '') filledCount++;
                }
            });
            
            const progress = (filledCount / requiredFields.length) * 100;
            progressFill.style.width = progress + '%';
        }

        // Add event listeners to all form fields
        form.querySelectorAll('input, select').forEach(field => {
            field.addEventListener('input', updateProgress);
            field.addEventListener('change', updateProgress);
        });

        // Mostrar/ocultar input de c√≥digo personalizado
        const codigoPaisSelect = document.getElementById('codigo_pais');
        const codigoPaisOtro = document.getElementById('codigo_pais_otro');
        if (codigoPaisSelect && codigoPaisOtro) {
            codigoPaisSelect.addEventListener('change', function() {
                if (this.value === 'otro') {
                    codigoPaisOtro.style.display = 'block';
                    codigoPaisOtro.required = true;
                } else {
                    codigoPaisOtro.style.display = 'none';
                    codigoPaisOtro.required = false;
                    codigoPaisOtro.value = '';
                }
            });
        }

        // Habilitar/deshabilitar el bot√≥n de enviar seg√∫n la pol√≠tica
        const politicaCheckbox = document.getElementById('acepto_politica');
        if (politicaCheckbox && submitBtn) {
            politicaCheckbox.addEventListener('change', function() {
                submitBtn.disabled = !this.checked;
            });
            // Por si el usuario recarga y el checkbox ya est√° marcado
            submitBtn.disabled = !politicaCheckbox.checked;
        }

        // Form submission
        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            // Validate all steps
            let allValid = true;
            for (let step = 1; step <= totalSteps; step++) {
                const section = document.querySelector(`.form-section[data-step="${step}"]`);
                const requiredFields = section.querySelectorAll('[required]');
                
                requiredFields.forEach(field => {
                    if (field.type === 'checkbox') {
                        if (!field.checked) allValid = false;
                    } else {
                        if (!field.value.trim()) allValid = false;
                    }
                });
            }

            if (!allValid) {
                errorMessage.textContent = 'Por favor, completa todos los campos requeridos en todos los pasos.';
                errorAlert.style.display = 'block';
                window.scrollTo({ top: 0, behavior: 'smooth' });
                return;
            }

            // Hide previous alerts
            successAlert.style.display = 'none';
            errorAlert.style.display = 'none';

            // Show loading
            submitBtn.disabled = true;
            loading.style.display = 'block';

            try {
                // Collect form data
                const formData = new FormData(form);
                const jsonData = {};

                // Convert FormData to JSON object
                for (let [key, value] of formData.entries()) {
                    jsonData[key] = value;
                }

                // Combinar c√≥digo de pa√≠s (de la lista o personalizado) con el tel√©fono, sin + ni espacio
                let codigoPaisFinal = formData.get('codigo_pais');
                if (codigoPaisFinal === 'otro') {
                    codigoPaisFinal = formData.get('codigo_pais_otro') || '';
                }
                const telefono = formData.get('telefono');
                if (codigoPaisFinal && telefono) {
                    // Eliminar cualquier caracter que no sea n√∫mero
                    const codigoLimpio = (codigoPaisFinal + '').replace(/[^0-9]/g, '');
                    const telefonoLimpio = (telefono + '').replace(/[^0-9]/g, '');
                    jsonData.telefono = codigoLimpio + telefonoLimpio;
                    delete jsonData.codigo_pais;
                    delete jsonData.codigo_pais_otro;
                }

                // Send to webhook
                const response = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(jsonData)
                });

                if (response.ok) {
                    // Success
                    successAlert.style.display = 'block';
                    form.reset();
                    progressFill.style.width = '0%';
                    currentStep = 1;
                    updateStepDisplay();
                    
                    // Scroll to top to show success message
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } else {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

            } catch (error) {
                console.error('Error:', error);
                errorMessage.textContent = 'Ha ocurrido un error al enviar el formulario. Por favor, intenta nuevamente.';
                errorAlert.style.display = 'block';
                
                // Scroll to top to show error message
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } finally {
                // Hide loading
                submitBtn.disabled = !politicaCheckbox.checked;
                loading.style.display = 'none';
            }
        });

        // Initialize
        updateStepDisplay();
        updateProgress();
    </script>
</body>
</html> 